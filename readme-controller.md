# Food Forum - Controllers

เอกสารนี้อธิบายหน้าที่และความรับผิดชอบของ Controllers หลักในโปรเจกต์ Food Forum ซึ่งทำหน้าที่เป็นตัวกลางระหว่าง Routes (การจัดการ HTTP Request) และ Business Logic ของแอปพลิเคชัน

---

## ภาพรวม (Overview)
Controllers ในโปรเจกต์นี้แบ่งตามหน้าที่ความรับผิดชอบหลักๆ ได้แก่ การจัดการโพสต์, การจัดการคอมเมนต์, การแสดงผล Dashboard และการยืนยันตัวตน (Authentication)

---

### 1. `app/Http/Controllers/PostController.php`
- **หน้าที่หลัก:** จัดการทุกอย่างที่เกี่ยวข้องกับกระทู้ (Posts) ตั้งแต่การสร้างจนถึงการลบ (CRUD Operations)

#### เมธอด (Methods)
- `index()`: ดึงข้อมูลโพสต์ทั้งหมดจากฐานข้อมูล (พร้อมข้อมูลผู้เขียน) และแสดงผลในหน้า `posts.index` โดยมีการแบ่งหน้า (Paginate)
- `create()`: แสดงฟอร์มสำหรับสร้างโพสต์ใหม่ที่ `posts.create`
- `store(Request $request)`: ตรวจสอบความถูกต้องของข้อมูล (Validation) ที่ส่งมาจากฟอร์ม, จัดการอัปโหลดรูปภาพ (ถ้ามี), และบันทึกโพสต์ใหม่ลงฐานข้อมูล
- `show(Post $post)`: แสดงรายละเอียดของโพสต์ที่ระบุ พร้อมทั้งดึงข้อมูลผู้เขียนและคอมเมนต์ทั้งหมดมาแสดงที่ `posts.show`
- `edit(Post $post)`: ตรวจสอบสิทธิ์ว่าเป็นเจ้าของโพสต์หรือไม่ lihแล้วจึงแสดงฟอร์มแก้ไขโพสต์ที่ `posts.edit`
- `update(Request $request, Post $post)`: ตรวจสอบสิทธิ์, ตรวจสอบข้อมูลที่ส่งมา, และอัปเดตข้อมูลโพสต์ในฐานข้อมูล
- `destroy(Post $post)`: ตรวจสอบสิทธิ์และลบโพสต์ออกจากฐานข้อมูล

---

### 2. `app/Http/Controllers/CommentController.php`
- **หน้าที่หลัก:** จัดการการสร้างและลบความคิดเห็น (Comments)

#### เมธอด (Methods)
- `store(Request $request, Post $post)`: ตรวจสอบข้อมูลที่ส่งมา และบันทึกความคิดเห็นใหม่ภายใต้โพสต์ที่ระบุ
- `destroy(Comment $comment)`: ตรวจสอบสิทธิ์ว่าเป็นเจ้าของความคิดเห็นหรือไม่ แล้วจึงลบคอมเมนต์นั้นออกจากฐานข้อมูล

---

### 3. `app/Http/Controllers/DashboardController.php`
- **หน้าที่หลัก:** แสดงผลหน้า Dashboard สำหรับผู้ใช้ที่ล็อกอินแล้ว

#### เมธอด (Methods)
- `index()`: แสดงผล View `dashboard` พร้อมกับส่งข้อมูลผู้ใช้ที่กำลังล็อกอินอยู่ไปด้วย

---

### 4. Controllers สำหรับการยืนยันตัวตน (Authentication)
- **ตำแหน่ง:** `app/Http/Controllers/Auth/`
- **หน้าที่หลัก:** จัดการกระบวนการทั้งหมดที่เกี่ยวกับการยืนยันตัวตนของผู้ใช้ เช่น การลงทะเบียน, การเข้าสู่ระบบ, การรีเซ็ตรหัสผ่าน ซึ่งถูกสร้างโดย Laravel Breeze และทำงานตามมาตรฐานของ Laravel
  - `AuthenticatedSessionController.php`: จัดการการเข้าสู่ระบบและออกจากระบบ
  - `RegisteredUserController.php`: จัดการการลงทะเบียนผู้ใช้ใหม่
  - `PasswordResetLinkController.php`, `NewPasswordController.php`: จัดการกระบวนการรีเซ็ตรหัสผ่าน
  - และอื่นๆ ที่เกี่ยวข้อง...
